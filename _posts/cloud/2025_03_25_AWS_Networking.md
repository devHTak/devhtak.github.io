#### 네트워킹이란?
- IT에서는 자원 간 연결하여 통신하는 환경을 의미
- OSI 7Layer
  - Physical Layer: 하드웨어 전송 기술을 이루는 계층, 물리적으로 연결된 매체가 서로 데이터를 송수신할 수 있게 연결하고 유지하는 역할
  - Datalink Layer: 물리 계층에서 송수신되는 정보의 오류와 흐름 제어
  - Network Layer: 데이터를 목적까지 전달, 최적의 경로
  - Transport Layer: end to end, 유효성과 효율성 보장
  - Session Layer: 응용프로세스 통신을 관리하는 방법으로, 데이터 통신을 위한 논리적인 연결을 담당
  - Presentation Layer: 데이터 형식에 차이가 있을 때 데이터를 서로 이해할 수 있는 형태로 변환
  - Application Layer: 응용 프로세스와 직접 연계하여 실제 응용프로그램을 서비스하는 역할
- IP 주소와 서브넷
  - IP는 자원을 식별하는 고유한 주소
    - public ip: 실제 인터넷에서 사용하려고 인터넷 서비스 공급자(ISP)에서 제공하는 유일한 공인 IP
    - private ip: 인터넷이 아닌 독립된 네트워크 내부에서만 사용하려고 네트워크 관리자가 제공하는 사설 IP
  - 서브넷과 서브넷 마스크
    - 모든 네트워크는 하나의 네트워크로만 구성되어 있지 않다, 주체와 목적에 따라 부분 네트워크로 나누고 서로 연결하여 거대한 네트워크 환경을 이룬다.
    - 서브넷은 부분 네트워크를 의미하며, 서브넷 마스크는 서브넷을 구분하고 식별하기 위한 것
    - IP: 192.168.100.1, 192.168.100.2 => Subnet Mask: 255.255.255.0/24 (동일한 서브넷을 의미)
- 라우팅과 라우터
  - 라우팅은 통신을 수행할 때 목적지 경로를 선택하는 작업을 의미하여 이를 수행하는 장비를 라우터라 한다.
  - 라우터는 라우팅 테이블이라는 서브넷의 경로 리스트를 갖고 목적지 네트워크에 대한 최적 경로를 선택하여 전달하는 역할
  - TCP와 UDP
    - Transport Layer에 대표적인 프로토콜로 데이터 전송을 담당
    - TCP(Transmission Control Protocol)
      - 송수신 대상 간 연결을 맺고 데이터 전송 여부를 확인하여 전송하는 연결형 프로토콜로 신뢰성 있는 데이터 전송 보장
    - UDP(User Diagram Protocol)
      - 송수신 대상 간 연결 없이 전달하는 비연결형 프로토콜
    - 포트번호: TCP, UDP를 사용하는 응용 서ㅣㅂ스는 서로 구분할 수 있도록 포트 번호 사용

#### AWS 네트워킹
- AWS 리전 네트워킹 디자인
  - Region은 주요 도시의 데이터 센터를 군집화(clustering)하는 물리적인 위치를 의미하며 리전 내부에는 Transit Center와 availability zone 이 서로 연결되어 네트워크 환경을 이루고 있다
  - Intra-AZ
    - 리전 내부에는 논리적인 데이터 센터의 집합인 가용 영역이 여러개가 존재하며, 가용 영역에 존재하는 데이터 센터들은 100GE or 400GE(Gigabyte Ethernet)으로 상호 연결되어 네트워킹 환경 구성(데이터 센터 간 연결)
  - Inter-AZ
    - 리전 내부에 가용영역은 100KM 이내로 떨어져 있고, 이런 물리적 거리를 두는 이유는 정전이나 자연재해 같은 문제에 가용성을 유지하기 위함
    - 지리적으로 떨어져 있는 가용 영역끼리 연결되어 네트워킹 환경을 구성하고 있으며, 이런 가용영역 간 연결을 Inter-AZ라 한다
  - Transit center connection
    - 리전에서 외부 인터넷 구간과 통신이 필요할 때는 트랜짓 센터를 통해 통신
    - 내부에 있는 가용 영역들은 외부 인터넷 통신을 위핸 트랜짓 센터와 연결되어 네트워킹 환경을 구성
- AWS 글로벌 네트워크와 Edge POP(Point Of Presence)
  - 엣지 POP은 AWS 글로벌 네트워크라는 전용망을 활용하여 안정적으로 고성능 서비스를 제공하는 센터로 엣지 POP을 통해 글로벌 서비스 콘텐츠를 빠르게 제공할 수 있다
  - 엣지 로케이션과 리전별 엣지 캐시로 구성
  - 대표적인 서비스로 Amazon CloudFront, Amazon Route53, AWS Shield, AWS Global Accelerator 등이 있다.
- AWS Networking 서비스
  - 네트워크 기반
    - VPC: 사용자 전용 가상의 프라이빗 클라우드 네트워크로, 자원을 탄력적으로 활용하는 서비스 제공
    - Transit Gateway: 중앙 허브처럼 VPC와 온프레미스 네트워크를 연결하는 게이트웨이 역할
  - 엣지 네트워킹
    - Route53: AWS에서 제공하는 관리형 DNS 서비스로 도메인 등록, 라우팅, 상태 확인 등 제공
    - Global Accelerator: AWS 글로벌 네트워크를 통해 애플리케이션을 빠르고 안정적으로 사용할 수 있도록 가용성 및 성능 보장
  - 하이브리드 연결
    - Direct Connect: 온프레미스 환경에서 AWS와 전용 네트워크 연결 서비스 제공
    - Site-to-Site VPN: IPsec VPN 연결을 생성하여 암호화된 네트워클르 구성하는 서비스 제공

#### Amazon VPC(Virtual Private Cloud)
- 개인의 데이터 센터에서 네트워크 환경을 구성하는 것 처럼 사용자 정의로 구성된 가상의 프라이빗 클라우드 네트워크
- Amazon VPC 기본 구성 요소
  - Region 과 VPC
    - 리전마다 독립적으로 구성되어 있으며 리전 내에 여러 VPC를 생성할 수있고 독립적으로 분리된다.
  - 서브넷과 가용 영역
    - Amazon VPC라는 하나의 독립된 클라우드 네트워크에도 서브넷을 이용하여 분리된 네트워크로 구성할 수 있다.
    - 서브넷은 VPC 내 별도로 나누어진 네트워크, 서브넷은 반드시 하나의 가용 영역에 종속적으로 위치
    - VPC 네트워크 환경 구성에 따라 퍼블릭(외부 인터넷 통신이 가능한 네트워크 영역), 프라이빗(인터넷 구간과 연결되지 않은 폐쇄적인 네트워크 영역)으로 분류할 수 있다
  - IP CIDR
    - 네트워크에 할당할 수 있는 IP 주소 범위를 표현하는 방법으로 내부에 생성할 서브넷의 IP 주소 범위를 할당하기 위해 IP CIDR을 가지고 있으며, VPC 내 생성된 서브넷도 VPC의 IP CIDR에서 분할된 IP CIDR을 가지고 있다.
  - 가상 라우터와 라우팅 테이블
    - 네트워크 경로를 확인하여 트래픽을 전달하는 목적의 가상 라우터가 생성
    - 가상 라우터는 기본 라우팅 테이블을 보유하고 있으며 라우팅 테이블을 통해 네트워크 경로를 식별할 수 있다.
  - 보안 그룹과 네트워크 ACL
    - security group, ACL(access control list)를 제공하여 가상의 방화벽 기능을 제공
    - stateful, stateless: 보안 그룹은 이전 상태 정보를 기억하고 그 상태를 활용하는 stateful 접근 통제를 수행하여 ACL은 이전 상태 정보를 기억하지 않고 다음에 그 상태를 활용하지 않는 stateless로 수행
- Amazon VPC와 다른 네트워크 연결
  - 인터넷 게이트웨이
    - VPC는 프라이빗 환경으로 위부 인터넷 구간과 연결되지 않는 독립적인 네트워크이기 때문에 인터넷 게이트웨이라는 네트워킹 자원을 생성한 후 VPC와 연결하여 외부 인터넷과 통신
  - NAT(Network Address Translation) 게이트웨이
    - 프라이빗 서브넷에서 외부 인터넷으로 통신하는 관문 역할을 하며 NAT는 IP 주소를 변환하는 역할로 Private -> Public으로 변환
  - VPC 피어링
    - 서로 다른 VPC를 연결하는 기능으로 동일 리전뿐만 아니라 다른 리전에 위치한 VPC에 연결할 수 있고, 다른 계정까지 연결할 수 있다.
    - VPC 피어링 시 IP CIDR 블록이 중복될 경우 연결이 불가능한 제약이 있어 IP 주소 대역을 반드시 점검해야 한다.
  - 전송 게이트웨이
    - 중앙 집중형 라우터로 다수의 VPC, 온프레미스를 단일 지점으로 연결
  - 가상 프라이빗 게이트웨이
    - 관리형 AWS Site-to-Site VPN을 연결하거나 AWS Direct Connect로 온프레미스 환경 연결

#### 부하분산

#### 출처
<img width="571" alt="image" src="https://github.com/user-attachments/assets/48df31c1-aa7e-4a51-82c5-e933d41323d1" />

- AWS 교과서(길벗) 중 3장, 4장, 7장 정리한 내용입니다.
