### 스토리지
- 데이터를 보관하는 장소로 우리가 사용하는 모든 저장 장치를 스토리지라 할 수 있다.
- 스토리지 서비스
  - 블록 스토리지(Amazon EBS)
    - 단일 스토리지 볼륨을 '블록'이라는 개별단위로 분할해서 저장하며 각 블록에는 고유한 주소가 있다.
    - 서버에서 파일을 요청하면 블록들을 재구성하여 하나의 데이터로 서버에 전달
  - 파일 스토리지(Amazon EFS)
    - 파일 수준 또는 파일 기반 스토리지라고 하며, 디렉토리 구조로 파일을 저장하며 디렉토리 및 파일은 계층 구조를 이룬다.
    - 파일을 찾기 위해서는 파일 경로를 알아야 하며 파일이 늘어나면 분류하거나 정리하는 데 시간이 점점 더 소요하게 되는 단점이 있다.
  - 객체 스토리지(Amazon S3)
    - 각 데이터 조각을 객체로 지정하고, 개별 단위로 저장하며 계층 구조 없이 단일한 평면적인 주소 공간에 저장
    - 객체에 고유 식별자가 있어 쉽게 접근할 수 있다. (객체의 키(파일이름)만 있으면 쉽고 빠르게 검색할 수 있다.)
- 스토리지 선택 기준
  - 어디에서나 접근할 수 있는 편의성과 대량의 데이터를 수용할 수 있는 확장성을 갖고 있다.

#### Amazon EBS(Elastic Block Store)
- EBS란
  - EC2 인스턴스에서 사용할 수 있는 블록 스토리지 서비스
  - 데이터를 일정 크기의 블록으로 나누어 분산 저장하며 볼륨 위에 파일시스템을 생성하거나 하드디스크 드라이브 같은 블록 디바이스를 사용하는 것처럼 볼륨을 쓸 수 있다.
  - 인스턴스에 연결된 EBS 볼륨의 구성을 동적으로 변경할 수 있기 때문에 데이터베이스처럼 데이터 출입이 많은 서비스에 적합
  - 인스턴스와 EBS 볼륨은 서로 종속 관계가 아니며(독립된 데이터 수명 시간) 인스턴스는 다수의 볼륨을 연결하여 사용할 수 있다
- EBS 특징
  - 데이터 가용성
    - 장애로 인해 데이터 손실되지 않도록 해당 가용영역 내에 자동으로 데이터 복제
  - 데이터 지속성
    - 인스턴스와 독립적이기 때문에 비관계형 인스턴스 스토리지
  - 데이터 안정성
    - 암호화된 EBS 볼륨을 생성할 수 있다.
  - 데이터 백업
    - 스냅샷을 생성하고, 다중 가용 영역에는 중복 저장이 가능한 Amazon S3에 볼륨 내 데이터 사본을 백업할 수 있다.
  - 데이터 확장성
    - 서비스를 중단할 필요 없이 볼륨 유형, 크기, IOPS(Input/Output Per Seconds) 용량을 수정할 수 있다.
- EBS 볼륨 유형
  - 크개 SSD(메모리형 디스크), HDD(플래터 디스그) 유형이 있다.
  - SSD는 데이터를 빠르게 읽고 처리하는 능력이 좋아 서버의 운영체제가 설치되는 OS영역이나 DB 보관용 스토리지 유형으로 사용
  - HDD는 속도와 상관없이 데이터 저장 용량이 많이 필요할 때 사용하므로 데이터 분석에 주로 활용
- EBS 스냅샷
  - 특정 시점에 포인트를 찍어서 그 시점으로 되돌아갈 수 있는 지점을 만드는 기능
  - 기본적으로 Amazon S3라는 스토리지 공간에 저장되어 여러 가용영역에 자동으로 복제된다.
  - 스냅샷은 다른 계정으로 공유도 가능하고 스냅샷을 이용해 다른 리전으로 복제할 수도 있다.

#### Amazon EFS(Elastic File System)
- EFS란
  - 클라우드 환경, 온프레미스 환경에서 사용할 수 있는 완전 관리형(HW 프로비저닝 유지 관리, SW 구성, 모니터링 성능 조절 등) 네트워크 파일 시스템
  - 인스턴스에 파일시스템을 연결하면 자동으로 스토리지 크기가 확장되고 사용한 만큼 비용 지불
- EFS 특징
  - 고성능 네트워크 파일 시스템으로 여러 대의 컴퓨터가 네트워크 상의 동일한 데이터에 접근해야할 때 사용
  - IOPS 가 높고 용량이 크기 때문에 처리량이 많고 대기 시간이 짧다

#### Amazon S3(Simple Storage Service)
- S3란
  - 데이터를 객체라 하고 데이터를 저장하는 곳을 버킷이라 하며 Rest API를 통해 입출력이 가능하다.
  - 높은 내구성으로 디자인 되어 있으며 데이터 손실을 최소화하도록 규정되어 있다.
  - 보안 규정 준수 및 감시 기능을 제공하고 있어 데이터가 안전하게 저장되고 인증된 사용자만 접근할 수 있도록 구성
- S3 구성요소
  - 버킷
    - 데이터 스토리지를 위한 S3의 기본 컨테이너로 객체는 반드시 버킷에 저장되고 하나의 리전에서 생성된 후엔 버킷 이름과 리전을 변경할 수 없다.
  - 객체
    - 기본 데이터로, 객체 데이터와 객체 메타데이터로 구성
    - 메타데이터는 이름-값 형태로 하나의 쌍으로 존재하며 객체를 저장할 때 사용자 정의 메타데이터를 지정할 수 있다.  
  - 키
    - 객체의 고유 식별자로 S3는 버킷 + 키 + 버전과 객체 사이의 기본 데이터 맵으로 생각할 수 있다.
  - S3 데이터 일관성
    - 객체에 대해 여러 서버로 데이터를 복제해 고가용성 및 내구성을 구현하고 일관성을 보장
- S3 특징
  - 객체에 대해 빠르고 내구성과 가용성이 높은 키 기반의 접근성을 제공하여 데이터의 저장, 검색에 특화된 객체 스토리지
  - 높은 내구성과 가용성
    - 리전 내에 최소 3개의 가용영역에 객체 복제하여 저장
- S3 스토리지 클래스
  - S3 standard
    - 가장 일반적이며 자주 액세스하는 데이터 사용
  - inteligent-tiering
    - 접근 패턴이 자주 변화하거나 알수 없는 데이터를 저장. 빈번한 접근 그룹과간헐적 접근 그룹을 나누어 저장
  - infrequent access: 자주 사용하지는 않지만 조회가 필요할 때 사용되는 데이터를 저장하는 클래스
    - standard-infrequent access: 최소 3개 이상의 가용영역에 데이터가 저장되기 때문에 높은 내구성을 갖는다.
    - one zone-infrequent access: 하나의 가용영역에만 데이터가 저장되기 때문에 내구성이 낮고 삭제되어도 다시 생상할 수 없는 데이터
  - S3 glacier
    - 데이터 아카이브(오랫동안 저장)와 장기간 백업을 고려하여 만든 스토리지
  - S3 glacier deep archive
    - 재사용이 거의 없는 데이터를 보관
- S3 보안
  - IAM(Identity and Access Management)와 및접하게 연관되어 접속 사용자나 데이터 접근을 관리한다.

### AWS 데이터베이스 서비스
|유형|서비스|주요 특징|
|---|---|---|
|관계형|Amazon RDS, Amazon Aurora|참조 무결성, 안전한 트랜잭션 수행|
|키-값|Amazon DynamoDB|빠른 응답 시간, 처리량|
|문서형|Amazon DocumentDB|각종 문서 인덱싱|
|인-메모리|Amazon ElastiCache|메모리 저장, 1ms 응답 시간|
|그래프형|Amazon Neptune|쉽고 빠른 데이터 관계 생성 및 탐색|
|시계형|Amazon Timestream|순차적 데이터 수집, 저장, 처리|
|원장|Amazon QLDB|모든 변경에 대한 불변 검증 기록 유지|

- 관계형 DB, key-value, in-memory 등 다양한 데이터베이스 서비스를 제공

#### Amazon RDS
- RDS란
  - 클라우드 환경에서 관계형 데이터베이스를 간편하게 설정하고 운영할 수 있는 서비스로 다양한 데이터베이스 인스턴스 유형을 선택할 수 있다.
    - Aurora, PostgreSQL, MariaDB, Oracle, SQLServer 등
  - 사용 편의성이 높고 모니터링 및 지표와 이벤트 알람을 이용해 높은 관리 효율성을 보장하며 비용도 상대적으로 저렴
  - 간편한 복제 기능을 이용해 가용성과 확장성을 보장
- 복제
  - Multi-AZ
    - 기본적으로 Active(Primary DB)-Standby(Standby Replica) 형태로 동작하며 Primary DB에 문제 발생 시 Standby가 Primary로 승격하여 동적으로 유지
    - Multi-AZ 방식은 데이터 정합성 유지가 중요하기 때문에 동기식 복제로 데이터를 동기화 한다
  - Read Replica
    - 원본 데이터를 Primary DB에 두고 읽기 전용의 복제 데이터를 Read Replica 데이터베이스에 생성하여 유지하며 비동기식 복제가 이뤄진다.
    - 읽기 전용 복제 데이터가 있는 Read Replica는 확장이 가능하며 데이터 일기 처리 속도를 높일 수 있다. 다른 리전까지 최대 다섯개의 Read Replica를 복제할 수 있다
#### Amazon Aurora
- Amazon Aurora
  - AWS 자체의 클라우드 데이터베이스 엔진으로 안정적이고 고성능의 데이터베이스 처리 가능
  - Aurora 엔진은 Amazon RDS에서 관리하며 프로비저닝, 패치, 백업, 복원, 장애복구 등 작업 수행 가능
- 복제 방식
  - 내결함성이 우수하다.
  - 예를들면 MySQL은 인스턴스에 EBS 스토리지가 연결되어 서로 다른 가용 영역으로 동기식 복제가 된다.
  - 반면 Aurora는 공유 스토리지를 통해 최소 3개의 가용 영역에서 두개씩 총 여섯개의 복제 데이터를 가지고 있어 안정적으로 서비스할 수 있다.
#### Amaazon DynamoDB
- 키-값 데이터베이스로 키를 데이터의 고유한 식별자로 사용하고, 값은 유형의 제한 없이 단순한 개체(entity)뿐 아니라 복잡한 집합체까지 무엇이든 가능한 비정형 데이터를 입력할 수 있다.
- 별도 서버를 구축하지 않아도 운영되는 서버리스로 동작하기 때문에 서버에 대한 프로비저닝, 패치, 소프트웨어 설치 없이 용량에 따라 테이블을 자동으로 확장 및 축소해 관리 편의성이 높다.
  
#### Amazon ElastiCache
- In-Memory DB로 데이터를 메모리에 저장하는 형태로 동작
- Memcache 방식과 Redis 방식으로 구분된다.
  

#### 출처
<img width="571" alt="image" src="https://github.com/user-attachments/assets/48df31c1-aa7e-4a51-82c5-e933d41323d1" />

- AWS 교과서(길벗) 중 5장, 6장을 정리한 내용입니다.
